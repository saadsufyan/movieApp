{"ast":null,"code":"import _objectSpread from \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/src/components/Movie/Movie.js\";\nimport React, { Component } from 'react';\nimport { API_URL, API_KEY } from '../../config';\nimport Navigation from '../elements/Navigation/Navigation';\nimport MovieInfo from '../elements/MovieInfo/MovieInfo';\nimport MovieInfoBar from '../elements/MovieInfoBar/MovieInfoBar';\nimport FourColGrid from '../elements/FourColGrid/FourColGrid.js';\nimport Actor from '../elements/Actor/Actor';\nimport Spinner from '../elements/Spinner/Spinner';\nimport './Movie.css';\n\nvar Movie =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Movie, _Component);\n\n  function Movie() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Movie);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Movie)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      movie: null,\n      actors: null,\n      directors: [],\n      loading: false\n    };\n\n    _this.fetchItems = function (endpoint) {\n      // ES6 destructuring the props\n      var movieId = _this.props.match.params.movieId;\n      fetch(endpoint).then(function (result) {\n        return result.json();\n      }).then(function (result) {\n        if (result.status_code) {\n          // If we don't find any movie\n          _this.setState({\n            loading: false\n          });\n        } else {\n          _this.setState({\n            movie: result\n          }, function () {\n            // ... then fetch actors in the setState callback function\n            var endpoint = \"\".concat(API_URL, \"movie/\").concat(movieId, \"/credits?api_key=\").concat(API_KEY);\n            fetch(endpoint).then(function (result) {\n              return result.json();\n            }).then(function (result) {\n              var directors = result.crew.filter(function (member) {\n                return member.job === \"Director\";\n              });\n\n              _this.setState({\n                actors: result.cast,\n                directors: directors,\n                loading: false\n              }, function () {\n                localStorage.setItem(\"\".concat(movieId), JSON.stringify(_this.state));\n              });\n            });\n          });\n        }\n      }).catch(function (error) {\n        return console.error('Error:', error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Movie, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // ES6 destructuring the props\n      var movieId = this.props.match.params.movieId;\n\n      if (localStorage.getItem(\"\".concat(movieId))) {\n        var state = JSON.parse(localStorage.getItem(\"\".concat(movieId)));\n        this.setState(_objectSpread({}, state));\n      } else {\n        this.setState({\n          loading: true\n        }); // First fetch the movie ...\n\n        var endpoint = \"\".concat(API_URL, \"movie/\").concat(movieId, \"?api_key=\").concat(API_KEY, \"&language=en-US\");\n        this.fetchItems(endpoint);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // ES6 Destructuring the props and state\n      var movieName = this.props.location.movieName;\n      var _this$state = this.state,\n          movie = _this$state.movie,\n          directors = _this$state.directors,\n          actors = _this$state.actors,\n          loading = _this$state.loading;\n      return React.createElement(\"div\", {\n        className: \"rmdb-movie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, movie ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Navigation, {\n        movie: movieName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(MovieInfo, {\n        movie: movie,\n        directors: directors,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(MovieInfoBar, {\n        time: movie.runtime,\n        budget: movie.budget,\n        revenue: movie.revenue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })) : null, actors ? React.createElement(\"div\", {\n        className: \"rmdb-movie-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(FourColGrid, {\n        header: 'Actors',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, actors.map(function (element, i) {\n        return React.createElement(Actor, {\n          key: i,\n          actor: element,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        });\n      }))) : null, !actors && !loading ? React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"No movie found\") : null, loading ? React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return Movie;\n}(Component);\n\nexport default Movie;","map":{"version":3,"sources":["/Users/saadsufyan/Desktop/React-Redux-Starter-Files/react-redux START HERE/src/components/Movie/Movie.js"],"names":["React","Component","API_URL","API_KEY","Navigation","MovieInfo","MovieInfoBar","FourColGrid","Actor","Spinner","Movie","state","movie","actors","directors","loading","fetchItems","endpoint","movieId","props","match","params","fetch","then","result","json","status_code","setState","crew","filter","member","job","cast","localStorage","setItem","JSON","stringify","catch","error","console","getItem","parse","movieName","location","runtime","budget","revenue","map","element","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { API_URL, API_KEY } from '../../config';\nimport Navigation from '../elements/Navigation/Navigation';\nimport MovieInfo from '../elements/MovieInfo/MovieInfo';\nimport MovieInfoBar from '../elements/MovieInfoBar/MovieInfoBar';\nimport FourColGrid from '../elements/FourColGrid/FourColGrid.js';\nimport Actor from '../elements/Actor/Actor';\nimport Spinner from '../elements/Spinner/Spinner';\nimport './Movie.css';\n\nclass Movie extends Component {\n  state = {\n    movie: null,\n    actors: null,\n    directors: [],\n    loading: false\n  }\n\n  componentDidMount() {\n    // ES6 destructuring the props\n    const { movieId } = this.props.match.params;\n\n    if (localStorage.getItem(`${movieId}`)) {\n      let state = JSON.parse(localStorage.getItem(`${movieId}`))\n      this.setState({ ...state })\n    } else {\n      this.setState({ loading: true })\n      // First fetch the movie ...\n      let endpoint = `${API_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n      this.fetchItems(endpoint);\n    }\n  }\n\n  fetchItems = (endpoint) => {\n    // ES6 destructuring the props\n    const { movieId } = this.props.match.params;\n\n    fetch(endpoint)\n    .then(result => result.json())\n    .then(result => {\n\n      if (result.status_code) {\n        // If we don't find any movie\n        this.setState({ loading: false });\n      } else {\n        this.setState({ movie: result }, () => {\n          // ... then fetch actors in the setState callback function\n          let endpoint = `${API_URL}movie/${movieId}/credits?api_key=${API_KEY}`;\n          fetch(endpoint)\n          .then(result => result.json())\n          .then(result => {\n\n            const directors = result.crew.filter( (member) => member.job === \"Director\");\n\n            this.setState({\n              actors: result.cast,\n              directors,\n              loading: false\n            }, () => {\n              localStorage.setItem(`${movieId}`, JSON.stringify(this.state));\n            })\n          })\n        })\n      }\n    })\n    .catch(error => console.error('Error:', error))\n  }\n\n  render() {\n    // ES6 Destructuring the props and state\n    const { movieName } = this.props.location;\n    const { movie, directors, actors, loading } = this.state;\n\n    return (\n      <div className=\"rmdb-movie\">\n        {movie ?\n        <div>\n          <Navigation movie={movieName} />\n          <MovieInfo movie={movie} directors={directors} />\n          <MovieInfoBar time={movie.runtime} budget={movie.budget} revenue={movie.revenue} />\n        </div>\n        : null }\n        {actors ?\n        <div className=\"rmdb-movie-grid\">\n          <FourColGrid header={'Actors'}>\n            {actors.map( (element, i) => (\n              <Actor key={i} actor={element} />\n            ))}\n          </FourColGrid>\n        </div>\n        : null }\n        {!actors && !loading ? <h1>No movie found</h1> : null }\n        {loading ? <Spinner /> : null}\n      </div>\n    )\n  }\n}\n\nexport default Movie;"]},"metadata":{},"sourceType":"module"}